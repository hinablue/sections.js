{"version":3,"file":"dist/sectionsjs.min.js","sources":["dist/sectionsjs.js"],"names":["window","document","sections","config","className","marginTop","interval","autoSectionHeight","utils","getInlineCSS","element","style","getAttribute","regexp","data","replace","origin","key","value","trim","setInlineCSS","i","oldStyle","newStyle","hasOwnProperty","push","setAttribute","join","events","EventEmitter","this","on","prototype","eventName","handler","isOnce","once","off","addEventListener","handlers","len","length","splice","emit","removeEventListener","args","Array","slice","call","arguments","apply","trigger","Transition","options","__options","getOptions","values","update","progress","getProgress","from","to","getValue","format","sectionProgress","range","start","end","current","cssValue","calcValue","getKey","getTarget","target","prop","defOptions","defaultOptions","index","Section","updatePosition","__transitions","__transitionTargets","offset","getOffset","top","el","x","y","isNaN","offsetLeft","offsetTop","offsetParent","left","getCSS","css","setCSS","updateProgress","pageTop","pageHeight","height","getHeight","pos","runTransition","offsetHeight","clientHeight","scrollHeight","transitions","transition","newTransitions","setTarget","targets","id","indexOf","targetValues","proto","init","__started","__init","getSections","updateWindowSize","getScrollHeight","addWindowResizeHandler","addScrollHandler","addStopHandler","lazyApply","body","documentElement","elements","getElementsByClassName","loop","stop","cancelAnimationFrame","__intervalID","step","scrollOffset","pageYOffset","pageXOffset","scrollLeft","scrollTop","checkCurrentSection","requestAnimationFrame","bind","cb","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","setInterval","mozcancelAnimationFrame","webkitcancelAnimationFrame","mscancelAnimationFrame","width","innerWidth","clientWidth","innerHeight","each","section","onResize","prevIndex","__currentIndex","prev","get","last","allfn","__lazyApply","currentIndex","first","fn","items","Sections","defConfig","create"],"mappings":"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"}