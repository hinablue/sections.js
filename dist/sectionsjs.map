{"version":3,"file":"dist/sectionsjs.min.js","sources":["dist/sectionsjs.js"],"names":["window","document","sections","config","className","marginTop","interval","autoSectionHeight","utils","getInlineCSS","element","style","getAttribute","regexp","data","replace","origin","key","value","trim","setInlineCSS","i","oldStyle","newStyle","hasOwnProperty","push","setAttribute","join","events","EventEmitter","this","on","prototype","eventName","handler","isOnce","once","off","addEventListener","handlers","len","length","splice","emit","removeEventListener","args","Array","slice","call","arguments","apply","trigger","Transition","options","__options","getOptions","values","update","progress","getProgress","from","to","getValue","format","sectionProgress","start","end","range","current","cssValue","calcValue","getKeys","prefix","cssPrefix","keys","getTarget","target","prop","defOptions","defaultOptions","index","Section","updatePosition","__transitions","__transitionTargets","offset","getOffset","top","el","x","y","isNaN","offsetLeft","offsetTop","offsetParent","left","getCSS","css","setCSS","updateProgress","pageTop","pageHeight","height","getHeight","pos","runTransition","offsetHeight","clientHeight","scrollHeight","transitions","transition","newTransitions","setTarget","targets","id","indexOf","targetValues","j","klen","proto","init","__started","__init","getSections","updateWindowSize","getScrollHeight","addWindowResizeHandler","addScrollHandler","addStopHandler","lazyApply","body","documentElement","elements","getElementsByClassName","loop","stop","cancelAnimationFrame","__intervalID","step","scrollOffset","pageYOffset","pageXOffset","scrollLeft","scrollTop","checkCurrentSection","requestAnimationFrame","bind","cb","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","setTimeout","mozcancelAnimationFrame","webkitcancelAnimationFrame","mscancelAnimationFrame","setInterval","width","innerWidth","clientWidth","innerHeight","each","section","onResize","prevIndex","__currentIndex","prev","get","last","allfn","__lazyApply","currentIndex","first","fn","items","Sections","defConfig","create"],"mappings":"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"}