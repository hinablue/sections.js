{"version":3,"file":"dist/sectionsjs.min.js","sources":["dist/sectionsjs.js"],"names":["window","document","sections","config","className","marginTop","interval","autoSectionHeight","utils","getInlineCSS","element","style","getAttribute","regexp","data","replace","origin","key","value","trim","setInlineCSS","i","oldStyle","newStyle","hasOwnProperty","push","setAttribute","join","forEach","array","callback","val","len","length","events","EventEmitter","this","on","prototype","eventName","handler","isOnce","once","off","addEventListener","handlers","splice","emit","removeEventListener","args","Array","slice","call","arguments","apply","trigger","Transition","options","__options","getOptions","values","update","progress","getProgress","from","to","getValue","format","sectionProgress","start","end","range","current","cssValue","calcValue","getKeys","prefix","cssPrefix","keys","getTarget","target","prop","defOptions","defaultOptions","index","Section","updatePosition","__transitions","__transitionTargets","offset","getOffset","top","el","x","y","isNaN","offsetLeft","offsetTop","offsetParent","left","getCSS","css","setCSS","updateProgress","pageTop","pageHeight","height","getHeight","pos","runTransition","offsetHeight","clientHeight","scrollHeight","transitions","newTransitions","transition","setTarget","bind","targets","id","indexOf","targetValues","proto","init","__started","__init","getSections","updateWindowSize","getScrollHeight","addWindowResizeHandler","addScrollHandler","addStopHandler","lazyApply","body","documentElement","elements","getElementsByClassName","loop","stop","cancelAnimationFrame","__intervalID","step","scrollOffset","pageYOffset","pageXOffset","scrollLeft","scrollTop","checkCurrentSection","requestAnimationFrame","cb","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","setTimeout","mozcancelAnimationFrame","webkitcancelAnimationFrame","mscancelAnimationFrame","setInterval","width","innerWidth","clientWidth","innerHeight","each","section","onResize","prevIndex","__currentIndex","prev","get","last","allfn","__lazyApply","currentIndex","first","fn","Sections","defConfig","create"],"mappings":"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"}