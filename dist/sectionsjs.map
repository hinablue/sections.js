{"version":3,"file":"dist/sectionsjs.min.js","sources":["dist/sectionsjs.js"],"names":["window","document","sections","config","className","marginTop","interval","autoSectionHeight","utils","getInlineCSS","element","style","getAttribute","regexp","data","replace","origin","key","value","trim","setInlineCSS","i","oldStyle","newStyle","hasOwnProperty","push","setAttribute","join","events","EventEmitter","this","on","prototype","eventName","handler","isOnce","once","off","addEventListener","handlers","len","length","splice","emit","removeEventListener","args","Array","slice","call","arguments","apply","trigger","Transition","options","__options","getOptions","values","update","progress","getProgress","from","to","getValue","format","sectionProgress","start","end","range","current","cssValue","calcValue","getKey","getTarget","target","prop","defOptions","defaultOptions","index","Section","updatePosition","__transitions","__transitionTargets","offset","getOffset","top","el","x","y","isNaN","offsetLeft","offsetTop","offsetParent","left","getCSS","css","setCSS","updateProgress","pageTop","pageHeight","height","getHeight","pos","runTransition","offsetHeight","clientHeight","scrollHeight","transitions","transition","newTransitions","setTarget","targets","id","indexOf","targetValues","proto","init","__started","__init","getSections","updateWindowSize","getScrollHeight","addWindowResizeHandler","addScrollHandler","addStopHandler","lazyApply","body","documentElement","elements","getElementsByClassName","loop","stop","cancelAnimationFrame","__intervalID","step","scrollOffset","pageYOffset","pageXOffset","scrollLeft","scrollTop","checkCurrentSection","requestAnimationFrame","bind","cb","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","setTimeout","mozcancelAnimationFrame","webkitcancelAnimationFrame","mscancelAnimationFrame","setInterval","width","innerWidth","clientWidth","innerHeight","each","section","onResize","prevIndex","__currentIndex","prev","get","last","allfn","__lazyApply","currentIndex","first","fn","items","Sections","defConfig","create"],"mappings":"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"}