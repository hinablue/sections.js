{"version":3,"file":"dist/sectionsjs.min.js","sources":["dist/sectionsjs.js"],"names":["window","document","sections","config","className","marginTop","interval","autoSectionHeight","utils","getInlineCSS","element","style","getAttribute","regexp","data","replace","origin","key","value","trim","setInlineCSS","i","oldStyle","newStyle","hasOwnProperty","push","setAttribute","join","events","EventEmitter","this","on","prototype","eventName","handler","isOnce","once","off","addEventListener","handlers","len","length","splice","emit","removeEventListener","args","Array","slice","call","arguments","apply","trigger","Transition","options","__options","getOptions","values","update","progress","getProgress","from","to","getValue","format","sectionProgress","range","Math","abs","start","end","current","cssValue","calcValue","getKey","getTarget","target","prop","defOptions","defaultOptions","index","Section","updatePosition","__transitions","__transitionTargets","offset","getOffset","top","el","x","y","isNaN","offsetLeft","offsetTop","offsetParent","left","getCSS","css","setCSS","updateProgress","pageTop","pageHeight","height","getHeight","pos","runTransition","offsetHeight","clientHeight","scrollHeight","transitions","transition","newTransitions","setTarget","targets","id","indexOf","targetValues","proto","init","__started","__init","getSections","updateWindowSize","getScrollHeight","addWindowResizeHandler","addScrollHandler","addStopHandler","lazyApply","body","documentElement","elements","getElementsByClassName","loop","stop","cancelAnimationFrame","__intervalID","step","scrollOffset","pageYOffset","pageXOffset","scrollLeft","scrollTop","checkCurrentSection","requestAnimationFrame","bind","cb","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","setTimeout","mozcancelAnimationFrame","webkitcancelAnimationFrame","mscancelAnimationFrame","setInterval","width","innerWidth","clientWidth","innerHeight","each","section","onResize","prevIndex","__currentIndex","prev","get","last","allfn","__lazyApply","currentIndex","first","fn","items","Sections","defConfig","create"],"mappings":"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"}